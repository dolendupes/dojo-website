---
// Advanced Multi-Step Inquiry Form using Flowbite Pro
// This would replace the simple InquiryForm.astro when Pro is available
---

<div class="max-w-2xl mx-auto">
  <!-- Progress Steps (Flowbite Pro) -->
  <ol class="flex items-center w-full mb-8">
    <li class="flex w-full items-center text-white after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-700 after:border-4 after:inline-block">
      <span class="flex items-center justify-center w-10 h-10 bg-dojo-red rounded-full shrink-0">
        1
      </span>
      <span class="ml-2">Personal Info</span>
    </li>
    <li class="flex w-full items-center after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-700 after:border-4 after:inline-block">
      <span class="flex items-center justify-center w-10 h-10 bg-gray-700 rounded-full shrink-0">
        2
      </span>
      <span class="ml-2 text-gray-400">Professional</span>
    </li>
    <li class="flex items-center">
      <span class="flex items-center justify-center w-10 h-10 bg-gray-700 rounded-full shrink-0">
        3
      </span>
      <span class="ml-2 text-gray-400">Interests</span>
    </li>
  </ol>

  <!-- Multi-step Form Container -->
  <form id="multi-step-form" class="bg-white/5 backdrop-blur-sm rounded-lg p-8">
    <!-- Step 1: Personal Information -->
    <div id="step-1" class="step">
      <h3 class="text-xl font-inter font-bold text-white mb-6">Personal Information</h3>
      
      <div class="grid gap-6 mb-6 md:grid-cols-2">
        <div>
          <label for="first-name" class="block mb-2 text-sm font-medium text-white">
            First name
          </label>
          <input type="text" id="first-name" class="bg-white/10 border border-gray-600 text-white placeholder-gray-400 rounded-lg focus:ring-dojo-red focus:border-dojo-red block w-full p-2.5" required>
        </div>
        
        <div>
          <label for="last-name" class="block mb-2 text-sm font-medium text-white">
            Last name
          </label>
          <input type="text" id="last-name" class="bg-white/10 border border-gray-600 text-white placeholder-gray-400 rounded-lg focus:ring-dojo-red focus:border-dojo-red block w-full p-2.5" required>
        </div>
        
        <div>
          <label for="email" class="block mb-2 text-sm font-medium text-white">
            Email address
          </label>
          <input type="email" id="email" class="bg-white/10 border border-gray-600 text-white placeholder-gray-400 rounded-lg focus:ring-dojo-red focus:border-dojo-red block w-full p-2.5" required>
        </div>
        
        <div>
          <label for="phone" class="block mb-2 text-sm font-medium text-white">
            Phone number
          </label>
          <input type="tel" id="phone" class="bg-white/10 border border-gray-600 text-white placeholder-gray-400 rounded-lg focus:ring-dojo-red focus:border-dojo-red block w-full p-2.5">
        </div>
      </div>
      
      <button type="button" class="next-step text-white bg-dojo-red hover:bg-red-700 focus:ring-4 focus:ring-red-800 font-medium rounded-lg text-sm px-5 py-2.5">
        Next: Professional Info
        <svg class="inline w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 12h14"></path>
        </svg>
      </button>
    </div>

    <!-- Step 2: Professional Information -->
    <div id="step-2" class="step hidden">
      <h3 class="text-xl font-inter font-bold text-white mb-6">Professional Background</h3>
      
      <div class="grid gap-6 mb-6">
        <div>
          <label for="company" class="block mb-2 text-sm font-medium text-white">
            Company / Organization
          </label>
          <input type="text" id="company" class="bg-white/10 border border-gray-600 text-white placeholder-gray-400 rounded-lg focus:ring-dojo-red focus:border-dojo-red block w-full p-2.5">
        </div>
        
        <div>
          <label for="role" class="block mb-2 text-sm font-medium text-white">
            Current Role
          </label>
          <input type="text" id="role" class="bg-white/10 border border-gray-600 text-white placeholder-gray-400 rounded-lg focus:ring-dojo-red focus:border-dojo-red block w-full p-2.5">
        </div>
        
        <div>
          <label for="industry" class="block mb-2 text-sm font-medium text-white">
            Industry
          </label>
          <select id="industry" class="bg-white/10 border border-gray-600 text-white rounded-lg focus:ring-dojo-red focus:border-dojo-red block w-full p-2.5">
            <option value="">Select your industry</option>
            <option value="tech">Technology</option>
            <option value="finance">Finance</option>
            <option value="healthcare">Healthcare</option>
            <option value="realestate">Real Estate</option>
            <option value="consulting">Consulting</option>
            <option value="other">Other</option>
          </select>
        </div>
        
        <div>
          <label for="linkedin" class="block mb-2 text-sm font-medium text-white">
            LinkedIn Profile (optional)
          </label>
          <input type="url" id="linkedin" class="bg-white/10 border border-gray-600 text-white placeholder-gray-400 rounded-lg focus:ring-dojo-red focus:border-dojo-red block w-full p-2.5">
        </div>
      </div>
      
      <div class="flex gap-3">
        <button type="button" class="prev-step text-white bg-gray-700 hover:bg-gray-600 focus:ring-4 focus:ring-gray-800 font-medium rounded-lg text-sm px-5 py-2.5">
          <svg class="inline w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path>
          </svg>
          Previous
        </button>
        <button type="button" class="next-step text-white bg-dojo-red hover:bg-red-700 focus:ring-4 focus:ring-red-800 font-medium rounded-lg text-sm px-5 py-2.5">
          Next: Your Interests
          <svg class="inline w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 12h14"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Step 3: Interests & Goals -->
    <div id="step-3" class="step hidden">
      <h3 class="text-xl font-inter font-bold text-white mb-6">Your Interests & Goals</h3>
      
      <div class="space-y-6 mb-6">
        <div>
          <label class="block mb-2 text-sm font-medium text-white">
            What aspects of DOJO interest you? (Select all that apply)
          </label>
          <div class="space-y-3">
            <label class="flex items-center">
              <input type="checkbox" value="training" class="w-4 h-4 text-dojo-red bg-white/10 border-gray-600 rounded focus:ring-dojo-red">
              <span class="ml-2 text-white">Physical Training & Fitness</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" value="networking" class="w-4 h-4 text-dojo-red bg-white/10 border-gray-600 rounded focus:ring-dojo-red">
              <span class="ml-2 text-white">Professional Networking</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" value="labs" class="w-4 h-4 text-dojo-red bg-white/10 border-gray-600 rounded focus:ring-dojo-red">
              <span class="ml-2 text-white">DOJO Labs (Startup Studio)</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" value="events" class="w-4 h-4 text-dojo-red bg-white/10 border-gray-600 rounded focus:ring-dojo-red">
              <span class="ml-2 text-white">Workshops & Events</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" value="community" class="w-4 h-4 text-dojo-red bg-white/10 border-gray-600 rounded focus:ring-dojo-red">
              <span class="ml-2 text-white">Community & Partnerships</span>
            </label>
          </div>
        </div>
        
        <div>
          <label for="goals" class="block mb-2 text-sm font-medium text-white">
            Tell us about your goals and what you hope to achieve at DOJO
          </label>
          <textarea id="goals" rows="4" class="bg-white/10 border border-gray-600 text-white placeholder-gray-400 rounded-lg focus:ring-dojo-red focus:border-dojo-red block w-full p-2.5" placeholder="Share your vision..."></textarea>
        </div>
        
        <div>
          <label for="referral" class="block mb-2 text-sm font-medium text-white">
            How did you hear about DOJO?
          </label>
          <input type="text" id="referral" class="bg-white/10 border border-gray-600 text-white placeholder-gray-400 rounded-lg focus:ring-dojo-red focus:border-dojo-red block w-full p-2.5">
        </div>
      </div>
      
      <div class="flex gap-3">
        <button type="button" class="prev-step text-white bg-gray-700 hover:bg-gray-600 focus:ring-4 focus:ring-gray-800 font-medium rounded-lg text-sm px-5 py-2.5">
          <svg class="inline w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path>
          </svg>
          Previous
        </button>
        <button type="submit" class="text-white bg-dojo-red hover:bg-red-700 focus:ring-4 focus:ring-red-800 font-medium rounded-lg text-sm px-5 py-2.5">
          Submit Inquiry
          <svg class="inline w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Success Message -->
    <div id="success-message" class="hidden">
      <div class="text-center py-8">
        <svg class="w-16 h-16 text-green-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <h3 class="text-2xl font-bold text-white mb-2">Thank You!</h3>
        <p class="text-dojo-light">Your inquiry has been submitted. We review applications periodically and will reach out if there's a fit.</p>
      </div>
    </div>
  </form>
</div>

<script>
  // Multi-step form logic
  let currentStep = 1;
  const totalSteps = 3;
  
  // Update progress indicators
  function updateProgress(step: number) {
    const progressSteps = document.querySelectorAll('ol li span.shrink-0');
    const progressLabels = document.querySelectorAll('ol li span:not(.shrink-0)');
    
    progressSteps.forEach((el, index) => {
      if (index < step) {
        el.classList.remove('bg-gray-700');
        el.classList.add('bg-dojo-red');
        progressLabels[index]?.classList.remove('text-gray-400');
        progressLabels[index]?.classList.add('text-white');
      } else {
        el.classList.remove('bg-dojo-red');
        el.classList.add('bg-gray-700');
        progressLabels[index]?.classList.remove('text-white');
        progressLabels[index]?.classList.add('text-gray-400');
      }
    });
  }
  
  // Show specific step
  function showStep(step: number) {
    document.querySelectorAll('.step').forEach(s => s.classList.add('hidden'));
    document.getElementById(`step-${step}`)?.classList.remove('hidden');
    updateProgress(step);
  }
  
  // Next button handlers
  document.querySelectorAll('.next-step').forEach(btn => {
    btn.addEventListener('click', () => {
      if (currentStep < totalSteps) {
        currentStep++;
        showStep(currentStep);
      }
    });
  });
  
  // Previous button handlers
  document.querySelectorAll('.prev-step').forEach(btn => {
    btn.addEventListener('click', () => {
      if (currentStep > 1) {
        currentStep--;
        showStep(currentStep);
      }
    });
  });
  
  // Form submission
  document.getElementById('multi-step-form')?.addEventListener('submit', (e) => {
    e.preventDefault();
    
    // Collect all form data
    const formData = new FormData(e.target as HTMLFormElement);
    console.log('Advanced inquiry submission:', Object.fromEntries(formData));
    
    // Show success message
    document.querySelectorAll('.step').forEach(s => s.classList.add('hidden'));
    document.getElementById('success-message')?.classList.remove('hidden');
  });
</script>

<style>
  /* Additional animations for Pro version */
  .step {
    animation: fadeIn 0.3s ease-in-out;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
